# IsoCtrl: Kubernetes 기반 헬스체크 및 자동 격리 시스템

**IsoCtrl**는 Kubernetes 클러스터 내에서 서비스 및 Pod 상태를 지속적으로 모니터링하고,  
비정상 상태를 감지하면 자동으로 격리하거나 재시작하는 **자가 복구(자체 healing) 시스템**입니다.

> **IsoCtrl = Isolation + Control**

---

## 프로젝트 목적

1. Kubernetes 환경에서 발생하는 **Pod/서비스의 이상 상태**를 자동으로 감지하고 조치
2. **헬스체크 → 감지 → 격리 → 이력 시각화**까지 전 과정을 자동화
3. 관리자가 개입하지 않아도 **안정적이고 복원력 있는 클러스터 운영**이 가능하도록 지원

---

## 구현 기능

### 1. **서비스 및 Pod 헬스체크 자동화**
- Kubernetes 기본 Probe(Liveness/Readiness/Startup) 적용
- Custom Sidecar를 통한 심화 내부 상태 체크

### 2. **비정상 상태 자동 조치**
- 자원 초과, 지연, 파일 이상 등 감지 시 **자동 재시작 or 격리**
- 격리된 Pod는 별도 네임스페이스(`quarantine-namespace`)로 이동

### 3. **장애 이력 기록 및 시각화**
- 장애 발생 시점, 조치 시간, 재시작 여부 등 이력 DB 저장
- 관리자 페이지에서 조회 및 대시보드 제공

### 4. **Operator 기반 자동 처리**
- Custom Resource Definition(CRD)으로 DB ReplicaSet 같은 리소스 추상화
- MongoDB 클러스터 복제 상태 감지 및 자동으로 멤버 재배치

### 5. **관리자 페이지 제공**
- 장애 발생/조치 내역 실시간 확인
- 격리/복구 이력, 복구 소요 시간 등 확인 가능

---

## 헬스체크

1. **기본 체크**  
- Kubernetes Probe (Liveness, Readiness, Startup)

2. **심화 체크**  
- Sidecar 컨테이너 기반 자원 감시 및 응답 지연 체크

3. **심화 관리**  
- Operator가 최종 판단 후 자동 격리/재배포 수행

---

## 주요 활용 시나리오

- **MongoDB ReplicaSet 구성 중 Primary 장애 시 자동 승격**
- 서비스가 느려지거나 CPU 급등 시 자동으로 새로운 인스턴스 생성
- 동일 Pod에서 반복 장애 발생 시 **격리 및 알림 전송**
- 운영자가 관리할 수 있는 **시각화 인터페이스와 로그 이력** 제공

---

> 개발 스택, 폴더 구조, 배포 방법은 프로젝트 문서에서 별도 관리합니다.
